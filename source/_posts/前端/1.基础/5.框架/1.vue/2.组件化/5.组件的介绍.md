---
title: 组件的介绍
copyright: true
permalink: 1
top: 0
date: 2019-04-04 16:00:09
categories:
- 前端开发
- 基础知识
- 框架
- 1.Vue
- 5.组件的介绍
tags:
- vue
- 组件
---

## 1.methods

```
<template>
    <div id="app">
        {{getFullName()}}
        {{msg}}
    </div>
</template>
<script>
export default {
  data: function () {
    return {
      firstName: '珠',
      lastName: '峰',
      msg: 'hello',
      fullName: ''
    }
  },
  methods: {
    getFullName () {
      console.log('1212')
      return this.firstName + this.lastName
    }
  }
}
</script>
```

改变 msg 的值会打印 1212

## 2.computed

```
<template>
    <div id="app">
        {{getFullName}}
        {{msg}}
    </div>
</template>
<script>
export default {
  data: function () {
    return {
      firstName: '珠',
      lastName: '峰',
      msg: 'hello'
    }
  },
  computed: {// Object.defineProperty来实现的
    getFullName () { // get方法 有缓存 如果没有更改会从缓存中取值
      console.log('computed')
      return this.firstName + this.lastName
    }
  }
}
</script>
```

只能在值改变后触发

```
<template>
    <div id="app">
        {{fullName}}
        {{msg}}
    </div>
</template>
<script>
export default {
  data: function () {
    return {
      firstName: '珠',
      lastName: '峰',
      msg: 'hello',
      fullName: ''
    }
  },
  computed: {// Object.defineProperty来实现的
    getFullName () { // get方法 有缓存 如果没有更改会从缓存中取值
      console.log('computed')
      return this.firstName + this.lastName
    }
  }
}
</script>
```

## 3.watch

```
<template>
    <div id="app">
        {{fullName}}
        {{msg}}
    </div>
</template>
<script>
export default {
  data: function () {
    return {
      firstName: '珠',
      lastName: '峰',
      msg: 'hello',
      fullName: ''
    }
  },
  methods: {
    getFullName () {
      this.fullName = this.firstName + this.lastName
    }
  },
  watch: {
    firstName () {
      this.getFullName()
    },
    lastName () {
      this.getFullName()
    }
  }
}
</script>
```

打开页面的时候没有值，只有当值发生改变的时候才会有值

可以添加这个

```
mounted () {
    // 在不同的阶段会被调用 钩子函数
    this.getFullName()
  }
```

watch 可以变成一个对象的写法

```
firstName: {
      handler (newValue) {
        this.getFullName()
      },
      immediate: true
    },
```

还可以用异步

```
firstName: {
      handler (newValue) {
        setTimeout(() => {
          this.getFullName()
        }, 1000)
      },
      immediate: true
    },
```

`computed和method的区别 conputed有缓存 method没有缓存`
`computed和watch的区别 watch可以支持异步`

## 4.全选按钮

```
<template>
    <div id="app">
        全选
        <input type="checkbox" name="" v-model="checkAll">
        <input type="checkbox" v-for='(item,index) in checks' v-model="item.value" :key="index">
    </div>
</template>
<script>
export default {
  data: function () {
    return {
      checks: [{ value: true }, { value: false }, { value: true }]
    }
  },
  computed: {
    checkAll: {
      get () {
        return this.checks.every(check => check.value)
      },
      set (value) {
        this.checks.forEach(check => (check.value = value))
      }
    }
  }
}
</script>
```
