---
title: 模拟new的实现
copyright: true
permalink: 1
top: 0
date: 2019-07-20 14:14:45
categories:
tags:
---

```
function Animal(){
    this.type=type
    return {name:'123'}
}
Animal.prototype.say=function(){
    console.log('say')
}
function mockNew(){
    let Constructor=[].shift.call(arguments)o
    let obj={}
    obj.__proto__=Constructor.prototype
    let r=Constructor.apply(obj,arguments)
    return r instanceof Object?r:obj
}
let animal=mockNew(Animal,'哺乳类')
```
